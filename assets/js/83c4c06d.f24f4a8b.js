"use strict";(self.webpackChunkkuby_docs=self.webpackChunkkuby_docs||[]).push([[787],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return g}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=u(n),g=i,k=c["".concat(s,".").concat(g)]||c[g]||d[g]||r;return n?a.createElement(k,l(l({ref:t},p),{},{components:n})):a.createElement(k,l({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var u=2;u<r;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},3513:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return d}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),l=["components"],o={id:"customizing-deployments",title:"Customizing Deployments",sidebar_label:"Customizing Deployments",slug:"/customizing-deployments"},s=void 0,u={unversionedId:"customizing-deployments",id:"customizing-deployments",title:"Customizing Deployments",description:"Kuby is designed to be beginner-friendly. It requires very little configuration and tries to fall back to smart defaults whenever possible.",source:"@site/docs/customizing_deployments.md",sourceDirName:".",slug:"/customizing-deployments",permalink:"/docs/customizing-deployments",editUrl:"https://github.com/getkuby/kuby-core/edit/master/docs/docs/customizing_deployments.md",tags:[],version:"current",frontMatter:{id:"customizing-deployments",title:"Customizing Deployments",sidebar_label:"Customizing Deployments",slug:"/customizing-deployments"},sidebar:"sidebar",previous:{title:"Understanding Kubernetes",permalink:"/docs/understanding-kubernetes"},next:{title:"Creating Your Own Plugins",permalink:"/docs/creating-plugins"}},p={},d=[{value:"Providers",id:"providers",level:2},{value:"Available Provider Gems",id:"available-provider-gems",level:3},{value:"The Bare Metal Provider",id:"the-bare-metal-provider",level:3},{value:"Plugins",id:"plugins",level:2},{value:"Setup and Remove Routines",id:"setup-and-remove-routines",level:3},{value:"Rake Tasks",id:"rake-tasks",level:3},{value:"Built-in Plugins",id:"built-in-plugins",level:2},{value:"The Rails App Plugin",id:"the-rails-app-plugin",level:3},{value:"The Rails Assets Plugin",id:"the-rails-assets-plugin",level:3},{value:"The Nginx Ingress Plugin",id:"the-nginx-ingress-plugin",level:3},{value:"The CRDB Plugin",id:"the-crdb-plugin",level:3},{value:"Additional Plugins",id:"additional-plugins",level:2},{value:"The cert-manager Plugin",id:"the-cert-manager-plugin",level:3},{value:"The Prebundler Plugin",id:"the-prebundler-plugin",level:3},{value:"The Redis Plugin",id:"the-redis-plugin",level:3},{value:"The Sidekiq Plugin",id:"the-sidekiq-plugin",level:3},{value:"The AnyCable Plugin",id:"the-anycable-plugin",level:3}],c={toc:d};function g(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Kuby is designed to be beginner-friendly. It requires very little configuration and tries to fall back to smart defaults whenever possible."),(0,r.kt)("p",null,"However, Kuby is also designed to be highly flexible and configurable should the need arise."),(0,r.kt)("h2",{id:"providers"},"Providers"),(0,r.kt)("p",null,"A ",(0,r.kt)("strong",{parentName:"p"},"provider")," allows Kuby to communicate with a Kubernetes cluster. Cloud service providers like DigitalOcean, AWS, and Azure, offer hosted Kubernetes solutions that make it very easy to create and manage clusters. There are Kuby provider gems for each of these platforms (and more) that facilitate deploying your application. They handle wrangling the necessary configuration parameters and other trivia."),(0,r.kt)("p",null,"Providers are configured inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes do ... end")," block of your Kuby config:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},"Kuby.define('my-app') do\n  environment(:production) do\n    kubernetes do\n      provider :linode do\n        # Linode-specific configuration options go here.\n        # See the README in getkuby/kuby-linode for details.\n      end\n    end\n  end\nend\n")),(0,r.kt)("p",null,"Interested in contributing a provider? See the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/getkuby/kuby-core/blob/ab58f7cc308348ae492a2d37dcf88686d2292917/lib/kuby/kubernetes/provider.rb"},"provider base class")," for the provider interface."),(0,r.kt)("h3",{id:"available-provider-gems"},"Available Provider Gems"),(0,r.kt)("p",null,"Kuby currently offers the following providers, distributed as Rubygems:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"DigitalOcean: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/getkuby/kuby-digitalocean"},"getkuby/kuby-digitalocean")),(0,r.kt)("li",{parentName:"ul"},"Linode: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/getkuby/kuby-linode"},"getkuby/kuby-linode")),(0,r.kt)("li",{parentName:"ul"},"Amazon EKS: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/getkuby/kuby-eks"},"getkuby/kuby-eks")),(0,r.kt)("li",{parentName:"ul"},"Azure AKS: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/getkuby/kuby-azure"},"getkuby/kuby-azure")),(0,r.kt)("li",{parentName:"ul"},"Kind: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/getkuby/kuby-kind"},"getkuby/kuby-kind"))),(0,r.kt)("h3",{id:"the-bare-metal-provider"},"The Bare Metal Provider"),(0,r.kt)("p",null,"Kuby comes with a provider out of the box for connecting to arbitrary Kubernetes clusters called the \"bare metal\" provider. Use this provider if the cloud services company you're using isn't supported by Kuby (i.e. there is no provider gem available), or if you're managing your cluster manually in-house. The bare metal provider requires that you already have a kubeconfig file."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The kubeconfig file (so-called because it's usually stored at ~/.kube/config) is a configuration file used by ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl")," and other tools to communicate securely with a Kubernetes cluster. For more information, see the ",(0,r.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/"},"official Kubernetes documentation"),"."))),(0,r.kt)("p",null,"The bare metal provider supports the following configuration options:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"kubeconfig(String)"),": The path to the kubeconfig file."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"storage_class(String)"),': The Kubernetes storage class to use for requesting persistent volume storage. Defaults to "hostpath".')),(0,r.kt)("p",null,"Configure the bare metal provider like so:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},"Kuby.define('my-app') do\n  environment(:production) do\n    kubernetes do\n      provider :bare_metal do\n        kubeconfig '/Users/me/.kube/config'\n      end\n    end\n  end\nend\n")),(0,r.kt)("h2",{id:"plugins"},"Plugins"),(0,r.kt)("p",null,"Nearly all Kuby's functionality is provided as a series of plugins. Plugins can be added, configured, and removed inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes do ... end")," block."),(0,r.kt)("p",null,"If you read the Getting Started section of this guide, you saw how to add and configure the ",(0,r.kt)("inlineCode",{parentName:"p"},":rails_app")," plugin. Let's add Sidekiq queuing functionality as another example."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"First, you'll need to add the ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/mperham/sidekiq"},"sidekiq")," and ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/getkuby/kuby-sidekiq"},"kuby-sidekiq")," gems to your Gemfile and run ",(0,r.kt)("inlineCode",{parentName:"li"},"bundle install"),"."),(0,r.kt)("li",{parentName:"ol"},"Next, add ",(0,r.kt)("inlineCode",{parentName:"li"},"require 'kuby/sidekiq'")," to the top of your Kuby config (i.e. in kuby.rb)."),(0,r.kt)("li",{parentName:"ol"},"Add the plugin by calling ",(0,r.kt)("inlineCode",{parentName:"li"},"add_plugin :sidekiq"),"."),(0,r.kt)("li",{parentName:"ol"},"Add a few lines of Ruby code into an initializer to configure your app to use Sidekiq.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby",metastring:'title="kuby.rb"',title:'"kuby.rb"'},"require 'kuby/sidekiq'\n\nKuby.define('my-app') do\n  environment(:production) do\n    add_plugin :sidekiq\n  end\nend\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby",metastring:'title="config/initializers/sidekiq.rb"',title:'"config/initializers/sidekiq.rb"'},"if Rails.env.production?\n  require 'kuby'\n\n  Kuby.load!\n\n  Sidekiq.configure_server do |config|\n    config.redis = Kuby.environment.kubernetes.plugin(:sidekiq).connection_params\n  end\n\n  Sidekiq.configure_client do |config|\n    config.redis = Kuby.environment.kubernetes.plugin(:sidekiq).connection_params\n  end\nend\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You'll need to run ",(0,r.kt)("inlineCode",{parentName:"p"},"kuby setup")," and then ",(0,r.kt)("inlineCode",{parentName:"p"},"kuby deploy")," again after completing these steps."))),(0,r.kt)("p",null,"The kuby-sidekiq plugin handles all the necessary configuration to stand up an instance of Redis in your cluster, as well as a worker pod for processing background jobs."),(0,r.kt)("p",null,"Now let's spin up another worker pod by passing a block to ",(0,r.kt)("inlineCode",{parentName:"p"},"add_plugin"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},"add_plugin :sidekiq do\n  replicas 2\nend\n")),(0,r.kt)("p",null,"Running ",(0,r.kt)("inlineCode",{parentName:"p"},"kuby deploy")," again will result in two worker pods."),(0,r.kt)("p",null,"To create your own plugins, see the ",(0,r.kt)("a",{parentName:"p",href:"./creating-plugins"},"Creating Plugins")," page in this guide."),(0,r.kt)("h3",{id:"setup-and-remove-routines"},"Setup and Remove Routines"),(0,r.kt)("p",null,"Plugins can define setup and remove routines that are generally used to install and remove cluster-wide resources like Kubernetes operators. As we've seen elsewhere in this guide, setup routines are executed whenever the ",(0,r.kt)("inlineCode",{parentName:"p"},"kuby setup")," command is executed, eg:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bundle exec kuby -e production setup\n")),(0,r.kt)("p",null,"Remove routines are executed much more selectively via the ",(0,r.kt)("inlineCode",{parentName:"p"},"kuby plugin remove")," command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bundle exec kuby -e production plugin remove [plugin name]\n")),(0,r.kt)("h3",{id:"rake-tasks"},"Rake Tasks"),(0,r.kt)("p",null,"As of kuby-core v0.18, plugins can define ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ruby/rake"},"Rake")," tasks."),(0,r.kt)("p",null,"To see a list of all available tasks, run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bundle exec kuby -e production plugin rake\n")),(0,r.kt)("p",null,"To run a Rake task, append its name to the command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bundle exec kuby -e production plugin rake <task name>\n")),(0,r.kt)("h2",{id:"built-in-plugins"},"Built-in Plugins"),(0,r.kt)("p",null,"Kuby comes with a set of built-in plugins like the ",(0,r.kt)("inlineCode",{parentName:"p"},":rails_app")," one we've seen already. The following sections describe these plugins and how to configure them."),(0,r.kt)("p",null,"Show all the plugins currently configured for the given environment (production in this case) by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bundle exec kuby -e production plugin list\n")),(0,r.kt)("p",null,"To show all the plugins Kuby knows about even if they aren't configured for the given environment, pass the ",(0,r.kt)("inlineCode",{parentName:"p"},"--all")," flag:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bundle exec kuby -e production plugin list --all\n")),(0,r.kt)("h3",{id:"the-rails-app-plugin"},"The Rails App Plugin"),(0,r.kt)("p",null,"The Rails app plugin generates all the configuration necessary to run your Rails app in your Kubernetes cluster, and supports the following configuration options."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"hostname(String)"),": The hostname (i.e. domain name) for your app. Something like my-awesome-website.com, etc. Note that you will need to purchase a domain name and configure DNS properly to be able to reach your website."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"tls_enabled(true | false)"),": Whether or not the plugin should attempt to fetch and install a Let's Encrypt TLS certificate for your app. Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"true"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"manage_database(true | false)"),": Whether or not the plugin should create a CockroachDB instance for your app. Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"true"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"replicas(Integer)"),": The number of instances of your app to run. Defaults to 1."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"asset_url(String)"),": The URL prefix to your app's static assets. Defaults to /assets."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"packs_url(String)"),": The URL prefix to your app's JavaScript packs (generated by webpack/webpacker). Defaults to /packs."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"asset_path(String)"),": The path on disk where your static assets reside. Defaults to ./public.")),(0,r.kt)("p",null,"For example, to disable TLS certificates, configure the plugin like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},"Kuby.define('my-app') do\n  environment(:production) do\n    kubernetes do\n      plugin :rails_app do\n        tls_enabled false\n      end\n    end\n  end\nend\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The remaining plugins listed below are automatically added and configured by the Rails app plugin, so there's usually no need to configure them on your own."))),(0,r.kt)("h3",{id:"the-rails-assets-plugin"},"The Rails Assets Plugin"),(0,r.kt)("p",null,"The Rails assets plugin creates a separate Kubernetes deployment for serving your app's static assets. A separate static asset server leaves your Rails app free to serve web requests. The plugin uses Nginx, a proven, high-performance web server."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"asset_url(String)"),": The URL prefix to your app's static assets. Defaults to /assets."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"packs_url(String)"),": The URL prefix to your app's JavaScript packs (generated by webpack/webpacker). Defaults to /packs."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"asset_path(String)"),": The path on disk where your static assets reside. Defaults to ./public.")),(0,r.kt)("h3",{id:"the-nginx-ingress-plugin"},"The Nginx Ingress Plugin"),(0,r.kt)("p",null,"The Nginx ingress plugin is responsible for installing the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/ingress-nginx"},"ingress-nginx")," Kubernetes operator. It has only one configuration option that is usually set by the provider."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"provider(String)"),": Sets the provider. Must correspond to one of the available manifests ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/ingress-nginx/tree/controller-v1.1.1/deploy/static/provider"},"here"),'. Defaults to using the "cloud" manifest.')),(0,r.kt)("h3",{id:"the-crdb-plugin"},"The CRDB Plugin"),(0,r.kt)("p",null,"The CRDB plugin is responsible for starting an instance of ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/cockroachdb/cockroach"},"CockroachDB")," for the Rails app."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"add_client_user(username: String)"),": Adds an additional user that will be able to connect to the database. A separate certificate will be created and configured for the user.")),(0,r.kt)("h2",{id:"additional-plugins"},"Additional Plugins"),(0,r.kt)("p",null,"The Kuby ecosystem features a number of other plugins distributed as Ruby gems."),(0,r.kt)("h3",{id:"the-cert-manager-plugin"},"The cert-manager Plugin"),(0,r.kt)("p",null,"Repository: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/getkuby/kuby-cert-manager"},"getkuby/kuby-cert-manager")),(0,r.kt)("p",null,"The cert-manager plugin uses the awesome ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/jetstack/cert-manager"},"cert-manager")," operator to automatically request and install TLS certificates on your behalf. Behind the scenes, cert-manager uses ",(0,r.kt)("a",{parentName:"p",href:"https://letsencrypt.org/"},"Let's Encrypt"),", a non-profit certificate authority trusted by all the major browsers. You don't need an account to use Let's Encrypt, but you do need an email address. By default, the cert-manager plugin uses the email address you provided as part of your Docker registry credentials. A certificate will be issued for the hostname configured for your Rails app."),(0,r.kt)("p",null,"Moreover, the cert-manager plugin can be used to create custom public key infrastructures (PKIs). Take a look at the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/getkuby/kuby-core/blob/ab58f7cc308348ae492a2d37dcf88686d2292917/lib/kuby/plugins/rails_app/crdb/plugin.rb"},"CRDB plugin")," for an example."),(0,r.kt)("h3",{id:"the-prebundler-plugin"},"The Prebundler Plugin"),(0,r.kt)("p",null,"Repository: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/getkuby/kuby-prebundler"},"getkuby/kuby-prebundler")),(0,r.kt)("p",null,"The Prebundler plugin uses ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/camertron/prebundler"},"Prebundler")," to dramatically improve the performance of ",(0,r.kt)("inlineCode",{parentName:"p"},"bundle install"),", which can take a long time during Docker builds."),(0,r.kt)("h3",{id:"the-redis-plugin"},"The Redis Plugin"),(0,r.kt)("p",null,"Repository: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/getkuby/kuby-redis"},"getkuby/kuby-redis")),(0,r.kt)("p",null,"The Redis plugin uses the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/spotahome/redis-operator"},"Spotahome Redis operator")," to stand up Redis instances in your cluster. It is used by the Sidekiq plugin (see below)."),(0,r.kt)("h3",{id:"the-sidekiq-plugin"},"The Sidekiq Plugin"),(0,r.kt)("p",null,"Repository: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/getkuby/kuby-sidekiq"},"getkuby/kuby-sidekiq")),(0,r.kt)("p",null,"The Sidekiq plugin deploys ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/mperham/sidekiq"},"Sidekiq")," workers into your cluster for easy background job processing."),(0,r.kt)("h3",{id:"the-anycable-plugin"},"The AnyCable Plugin"),(0,r.kt)("p",null,"Repository: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/anycable/kuby-anycable"},"anycable/kuby-anycable")),(0,r.kt)("p",null,"The AnyCable plugin allows you to install all the required ",(0,r.kt)("a",{parentName:"p",href:"https://anycable.io/"},"AnyCable")," components to your Kubernetes cluster."))}g.isMDXComponent=!0}}]);